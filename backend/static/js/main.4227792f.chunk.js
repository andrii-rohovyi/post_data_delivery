(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{151:function(t,e,n){},152:function(t,e,n){},225:function(t,e,n){"use strict";n.r(e);var i=n(7),o=n(0),r=n.n(o),a=n(19),c=n.n(a),s=(n(151),n(70)),l=(n(152),n(153),n(143)),d=n(234),u=["#900020","#013A20","#000000","#ECF87F","#FFAEBC","#CDD193","#67595E"],p=function(t){t.children,t.text;var e=t.deliveryNumber,n=t.courier,o=t.startingPoint,r=t.droppedNode;return Object(i.jsx)(i.Fragment,{children:r?Object(i.jsx)(d.a,{size:20,style:{width:"20px",height:"20px"}}):Object(i.jsx)("div",{className:"cluster-marker",style:{width:"20px",height:"20px",color:"#fff",background:o?"#FAD02C":n?u[n]:"#900020",borderRadius:"50%",padding:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:e})})},j=function(t){var e=t.points,n=t.addPoint,o=t.result,r=t.showResult;return Object(i.jsx)("div",{style:{height:"100vh",width:"60%",float:"right"},children:Object(i.jsxs)(l.a,{bootstrapURLKeys:{key:"AIzaSyCWYtTeal3a9ttpSA8HYHmgJ21k4gnVMOA"},defaultCenter:{lat:50.45466,lng:30.5238},defaultZoom:11,onClick:function(t){n(e.concat([{lat:t.lat,lng:t.lng}]))},children:[console.log(o,"result"),r?Object.entries(o).map((function(t){var e=Object(s.a)(t,2),n=e[0];return e[1].map((function(t,e){return"routes"===n?t.map((function(t,o){return"routes"===n&&0===o?Object(i.jsx)(p,{lat:t.lat,lng:t.lng,text:"Starting Point",startingPoint:!0}):0!==o?Object(i.jsx)(p,{lat:t.lat,lng:t.lng,text:"Courier ".concat(e," number ").concat(o),courier:e,deliveryNumber:o}):Object(i.jsx)(i.Fragment,{})})):"dropped_nodes"===n?Object(i.jsx)(p,{lat:t.lat,lng:t.lng,text:"Starting Point",startingPoint:!0,droppedNode:!0}):Object(i.jsx)(i.Fragment,{})}))})):e.map((function(t,e){return Object(i.jsx)(p,{lat:t.lat,lng:t.lng,text:"Point number ".concat(e),deliveryNumber:e})}))]})})},b=n(29),x=n(109),h=n.n(x),m=n(127),O=n(40),g=n(228),f=n(128),v=n(110),y=n(54),w=n(232),C=function(t){var e=t.input,n=t.meta,o=Object(y.a)(t,["input","meta"]);return Object(i.jsx)(w.a,Object(b.a)(Object(b.a)(Object(b.a)({},e),o),{},{min:1,max:10,defaultValue:3,onChange:function(t){return e.onChange(t)},errorText:n.touched?n.error:""}))},R=n(230),P=n(227),S=Object(i.jsx)(P.a,{type:"smile",style:{fontSize:"50px"}}),k=function(t){var e=t.input,n=(t.meta,Object(y.a)(t,["input","meta"]));return Object(i.jsx)(R.a,Object(b.a)(Object(b.a)(Object(b.a)({},e),n),{},{onChange:function(t){return e.onChange(t)},size:"large",suffix:S}))},T=n(101),F=n(229).a.RangePicker,_=function(t){var e=t.input,n=t.meta,o=Object(y.a)(t,["input","meta"]);return Object(i.jsx)(F,Object(b.a)(Object(b.a)(Object(b.a)({},e),o),{},{min:1,max:10,defaultValue:3,onChange:function(t){return e.onChange(t)},errorText:n.touched?n.error:""}))},A=n(231),N=A.a.Option,L=function(t){var e=t.input,n=(t.meta,t.options),o=Object(y.a)(t,["input","meta","options"]);return Object(i.jsx)(A.a,Object(b.a)(Object(b.a)(Object(b.a)({},e),o),{},{onChange:function(t){return e.onChange(t)},defaultValue:n[0],children:n.map((function(t){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(N,{value:t,children:t})})}))}))},D=function(t){var e=t.points,n=(t.addPoint,t.result,t.setResult),o=t.setShowResult,r=function(){var t=Object(m.a)(h.a.mark((function t(e){var i,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.couriers),i={central_store:{location:[e.points[0].lat,e.points[0].lng],time_window:e.points[0].time_window?[e.points[0].time_window[0].valueOf(),e.points[0].time_window[1].valueOf()]:null},stores:e.points.map((function(t,e){return 0!==e?{location:[t.lat,t.lng],demand:t.demand,time_window:t.time_window?[t.time_window[0].valueOf(),t.time_window[1].valueOf()]:null}:null})).filter((function(t){return null!==t})),couriers:e.couriers.map((function(t,e){return{pid:e,capacity:t.capacity,transport:t.transport}}))},console.log(i,"data"),t.next=5,fetch("http://localhost:8080",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify(i)});case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,n(a),o(!0);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsx)(O.b,{initialValues:{points:e.length&&e||[void 0,void 0],couriers:[void 0]},onSubmit:r,mutators:Object(b.a)({},f.a),render:function(t){var e=t.handleSubmit,n=t.form.mutators,o=n.push,r=n.pop,a=t.pristine,c=t.form,s=t.submitting;t.values;return Object(i.jsx)("div",{style:{padding:"10px"},children:Object(i.jsxs)(g.a,{onFinish:e,children:[Object(i.jsx)("div",{style:{padding:"16px",width:"53%",float:"left"},children:Object(i.jsx)(v.a,{name:"points",children:function(t){var e=t.fields;return e.map((function(t,n){return Object(i.jsxs)("div",{style:{padding:"10px 0 10px 0",position:"relative",border:"2px solid rgb(255, 145, 0)",borderRadius:"10px",margin:"10px 0 10px 0"},children:[Object(i.jsxs)("label",{children:["Point #",n+1]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(O.a,{name:"".concat(t,".lat"),component:k,placeholder:"Lat",disabled:0===n,style:{width:"40%",marginRight:"5px"}}),Object(i.jsx)(O.a,{name:"".concat(t,".lng"),component:k,placeholder:"Lon",disabled:0===n,style:{width:"40%",marginLeft:"5px"}})]}),0!==n&&Object(i.jsxs)("div",{style:{paddingTop:"10px"},children:[Object(i.jsx)("label",{style:{display:"block"},children:"Demand"}),Object(i.jsx)(O.a,{name:"".concat(t,".demand"),component:C,placeholder:"Demand",style:{width:"83%"}})]}),Object(i.jsxs)("div",{style:{paddingTop:"10px"},children:[Object(i.jsx)("label",{children:"Time window"}),Object(i.jsx)(O.a,{name:"".concat(t,".time_window"),component:_,showTime:!0,placeholder:"Time window",style:{marginRight:"5px"}}),Object(i.jsx)("span",{onClick:function(){return 0!==n?e.remove(n):{}},style:{cursor:0!==n?"pointer":"not-allowed",marginLeft:"5px",position:"absolute",top:"49%",right:"5px"},children:Object(i.jsx)(T.a,{})})]})]},t)}))}})}),Object(i.jsxs)("div",{style:{padding:"16px",width:"40%",float:"right"},children:[Object(i.jsx)(v.a,{name:"couriers",children:function(t){return t.fields.map((function(t,e){return Object(i.jsxs)("div",{style:{padding:"10px 0 10px 0",position:"relative",border:"2px solid rgb(255, 145, 0)",borderRadius:"10px",margin:"10px 0 10px 0"},children:[Object(i.jsxs)("label",{children:["Courier #",e+1]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(O.a,{name:"".concat(t,".capacity"),component:C,placeholder:"Capacity",style:{width:"40%",marginRight:"5px"}}),Object(i.jsx)(O.a,{name:"".concat(t,".transport"),component:L,options:["driving","foot"],placeholder:"Transport",style:{width:"40%",marginRight:"5px"}})]})]},t)}))}}),Object(i.jsxs)("div",{className:"buttons",style:{paddingTop:"20px",clear:"both"},children:[Object(i.jsx)("button",{type:"button",onClick:function(){return o("couriers",void 0)},children:"Add Courier"}),Object(i.jsx)("button",{type:"button",onClick:function(){return r("couriers")},children:"Remove Courier"})]})]}),Object(i.jsxs)("div",{className:"buttons",style:{paddingTop:"20px",clear:"both"},children:[Object(i.jsx)("button",{type:"button",onClick:function(){return o("points",void 0)},children:"Add Point"}),Object(i.jsx)("button",{type:"button",onClick:function(){return r("points")},children:"Remove Point"}),Object(i.jsx)("button",{type:"submit",disabled:s||a,children:"Submit"}),Object(i.jsx)("button",{type:"button",onClick:function(){c.reset()},disabled:s,children:"Reset"})]})]})})}})},V=function(t){var e=t.points,n=t.addPoint,o=t.result,r=t.setResult,a=t.setShowResult;return Object(i.jsx)("aside",{style:{float:"left",width:"40%"},children:Object(i.jsx)(D,{points:e,addPoint:n,result:o,setResult:r,setShowResult:a})})};var z=function(){var t=Object(o.useState)([{lat:50.4486941427873,lng:30.52272858686755}]),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(o.useState)({routes:[],dropped_nodes:[]}),c=Object(s.a)(a,2),l=c[0],d=c[1],u=Object(o.useState)(!1),p=Object(s.a)(u,2),b=p[0],x=p[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(V,{points:n,addPoint:r,result:l,setResult:d,setShowResult:x}),Object(i.jsx)("div",{children:Object(i.jsx)(j,{points:n,addPoint:r,result:l,showResult:b})})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,235)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),o(t),r(t),a(t)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(z,{})}),document.getElementById("root")),E()}},[[225,1,2]]]);
//# sourceMappingURL=main.4227792f.chunk.js.map